parameters:
    catalog_items_directory: '%kernel.project_dir%/public/uploads/items'

services:
    _defaults:
        autowire: true
        autoconfigure: true
    
    App\Service\Admin\CrudService:
        autowire: true
        
    App\Service\Volt12\CatalogService:
        autowire: true
    
    App\Service\Volt12\CatalogItemService:
        autowire: true
        
    App\Service\Volt12\CatalogCharacteristicService:
        autowire: true
        
    App\Controller\Admin\CatalogItemCharacteristicController:
        tags: [ 'controller.service_arguments' ]
        arguments:
            $catalogItemService: '@App\Service\Volt12\CatalogItemService'
            $catalogCharacteristicService: '@App\Service\Volt12\CatalogCharacteristicService'
            $crudService: '@App\Service\Admin\CrudService'
    
    App\Controller\Volt12\CatalogController:
        tags: [ 'controller.service_arguments' ]
        arguments:
            $catalogService: '@App\Service\Volt12\CatalogService'

    App\Controller\Volt12\CatalogItemController:
        tags: [ 'controller.service_arguments' ]
        arguments:
            $catalogItemService: '@App\Service\Volt12\CatalogItemService'
    
    App\Controller\Volt12\CatalogCharacteristicController:
        tags: [ 'controller.service_arguments' ]
        arguments:
            $catalogCharacteristicService: '@App\Service\Volt12\CatalogCharacteristicService'
    
    App\Menu\CatalogItemMenuListener:
        tags:
            - { name: kernel.event_listener, event: sylius.menu.admin.main, method: addToMain }

    App\Menu\CatalogMenuListener:
        tags:
            - { name: kernel.event_listener, event: sylius.menu.admin.main, method: addToMain }

    App\Menu\CatalogCharacteristicMenuListener:
        tags:
            - { name: kernel.event_listener, event: sylius.menu.admin.main, method: addToMain }

    App\Menu\CatalogItemCharacteristicMenuListener:
        tags:
            - { name: kernel.event_listener, event: sylius.menu.admin.main, method: addToMain }

    App\Menu\CatalogGroupMenuListener:
        tags:
            - { name: kernel.event_listener, event: sylius.menu.admin.main, method: addToMain }

    App\EventListener\CatalogItemListener:
        tags:
            - { name: doctrine.orm.entity_listener }

    App\Service\ImageUploader:
        arguments:
            $targetDirectory: '%catalog_items_directory%'

    App\Form\Type\CatalogItemCharacteristicType:
        tags: [ 'form.type' ]
        autowire: true
